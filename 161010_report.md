学籍番号：33E16006
名前：銀杏一輝


<課題2> スイッチ切断イベント

書いたコードは以下のようになります。

#foobar.rb
class FooBar < Trema::Controller  
  def start(_args)  
    logger.info 'Trema started.'  
  end  

  def switch_ready(datapath_id)  
    logger.info "Start #{datapath_id.to_hex}!"  
  end  

  def switch_disconnected(datapath_id)  
    logger.info "Bye #{datapath_id.to_hex}!"  
  end  
end  

スライドを参考にコードを作成しました。やったことはswitch_disconnected(datapath_id)にlogger.info "Bye #{datapath_id.to_hex}!"を追加しました。switch_disconnected(datapath_id)は切断を捕捉するものなので、スイッチ切断時に起こると考えたためです。

./bin/trema run ./lib/hello_trema.rb -c trema.conf

により、実行させている間に別のターミナルで

trema stop 0xabc

を実行することで、

Bye 0xabc!

と表示されることを確認しました。


